<!--&lt;!&ndash;<!DOCTYPE html>&ndash;&gt;-->
<!--&lt;!&ndash;<html>&ndash;&gt;-->
<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;    <title>University PDFs</title>&ndash;&gt;-->
<!--&lt;!&ndash;    <style>&ndash;&gt;-->
<!--&lt;!&ndash;        body {&ndash;&gt;-->
<!--&lt;!&ndash;          font-family: Arial;&ndash;&gt;-->
<!--&lt;!&ndash;          background: #f5f2ff;&ndash;&gt;-->
<!--&lt;!&ndash;          padding: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        .box {&ndash;&gt;-->
<!--&lt;!&ndash;          background: white;&ndash;&gt;-->
<!--&lt;!&ndash;          padding: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;          border-radius: 16px;&ndash;&gt;-->
<!--&lt;!&ndash;          margin-bottom: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;          box-shadow: 0 10px 30px rgba(0,0,0,.1);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        button {&ndash;&gt;-->
<!--&lt;!&ndash;          padding: 10px 18px;&ndash;&gt;-->
<!--&lt;!&ndash;          border: none;&ndash;&gt;-->
<!--&lt;!&ndash;          background: #6b5cff;&ndash;&gt;-->
<!--&lt;!&ndash;          color: white;&ndash;&gt;-->
<!--&lt;!&ndash;          border-radius: 8px;&ndash;&gt;-->
<!--&lt;!&ndash;          cursor: pointer;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;    </style>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->

<!--&lt;!&ndash;<body>&ndash;&gt;-->

<!--&lt;!&ndash;<h1>üìö University PDFs</h1>&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;&lt;!&ndash; TEACHER UPLOAD &ndash;&gt;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;<div class="box" id="uploadBox" style="display:none">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <h3>Upload PDF (Teacher Only)</h3>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <input type="file" id="file">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <br><br>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <button onclick="upload()">Upload</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;</div>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;&lt;!&ndash; FILE LIST &ndash;&gt;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;<div class="box">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <h3>Available PDFs</h3>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    <div id="files"></div>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;</div>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;<button onclick="logout()">Logout</button>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;<script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    fetch("/auth/status")&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      .then(r => r.text())&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      .then(role => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        if (role === "NOT_LOGGED_IN") {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;          alert("Login required");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;          window.location.href = "/register.html";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;        if (role === "ROLE_TEACHER") {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;          document.getElementById("uploadBox").style.display = "block";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;        loadFiles();&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      });&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    function loadFiles() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      fetch("/files/list")&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(r => r.json())&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(files => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;          document.getElementById("files").innerHTML =&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            files.map(f => `&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;              <p>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                ${f.filename}&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                <a href="/files/download/${f.id}">‚¨á Download</a>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                ${canDelete ? `<button onclick="del(${f.id})">‚ùå</button>` : ""}&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;              </p>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            `).join("");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    let canDelete = false;&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    fetch("/auth/status").then(r=>r.text()).then(role=>{&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      if(role==="ROLE_TEACHER") canDelete=true;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    });&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    function upload() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      const data = new FormData();&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      data.append("file", document.getElementById("file").files[0]);&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;      fetch("/files/upload", { method:"POST", body:data })&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(() => alert("Uploaded"))&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(loadFiles);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    function del(id) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      fetch(`/files/delete/${id}`, { method:"DELETE" })&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(loadFiles);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    function logout() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;      fetch("/logout", { method:"POST" })&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(() => window.location.href = "/register.html");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;</script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;<div class="container">&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; UPLOAD SECTION &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="card">&ndash;&gt;-->
<!--&lt;!&ndash;        <h2>üì§ Upload Study Material</h2>&ndash;&gt;-->

<!--&lt;!&ndash;        <form id="uploadForm">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="form-grid">&ndash;&gt;-->
<!--&lt;!&ndash;                <select id="university">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="JNTU">JNTU</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="OU">OU</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <select id="branch">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="CSE">CSE</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="ECE">ECE</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <select id="semester">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="SEM 1">SEM 1</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="SEM 2">SEM 2</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <input id="subject" placeholder="Subject name" required>&ndash;&gt;-->

<!--&lt;!&ndash;                <input type="file" id="file" accept="application/pdf" required>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <button type="submit">Upload PDF</button>&ndash;&gt;-->
<!--&lt;!&ndash;        </form>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; MANAGE &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="card">&ndash;&gt;-->
<!--&lt;!&ndash;        <h2>üìÅ Manage Uploaded PDFs</h2>&ndash;&gt;-->
<!--&lt;!&ndash;        <a class="link" href="/uploaded.html">View Uploaded PDFs</a>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->

<!--&lt;!&ndash;<script>&ndash;&gt;-->
<!--&lt;!&ndash;    document.getElementById("uploadForm").addEventListener("submit", async e => {&ndash;&gt;-->
<!--&lt;!&ndash;      e.preventDefault();&ndash;&gt;-->

<!--&lt;!&ndash;      const formData = new FormData();&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("file", document.getElementById("file").files[0]);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("university", document.getElementById("university").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("branch", document.getElementById("branch").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("semester", document.getElementById("semester").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("subject", document.getElementById("subject").value);&ndash;&gt;-->

<!--&lt;!&ndash;      const res = await fetch("/files/upload", {&ndash;&gt;-->
<!--&lt;!&ndash;        method: "POST",&ndash;&gt;-->
<!--&lt;!&ndash;        body: formData&ndash;&gt;-->
<!--&lt;!&ndash;      });&ndash;&gt;-->

<!--&lt;!&ndash;      if (res.ok) {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("‚úÖ PDF Uploaded Successfully");&ndash;&gt;-->
<!--&lt;!&ndash;        document.getElementById("uploadForm").reset();&ndash;&gt;-->
<!--&lt;!&ndash;      } else {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("‚ùå Upload failed");&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->
<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--&lt;!&ndash;</html>&ndash;&gt;-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>University PDFs | StudyHub</title>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            background: #f6f3ff;-->
<!--            margin: 0;-->
<!--            padding: 40px;-->
<!--        }-->

<!--        h1 {-->
<!--            color: #62109F;-->
<!--        }-->

<!--        .hidden {-->
<!--            display: none;-->
<!--        }-->

<!--        .card {-->
<!--            background: white;-->
<!--            padding: 20px;-->
<!--            border-radius: 12px;-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 8px 20px rgba(165,148,249,0.25);-->
<!--        }-->

<!--        button {-->
<!--            background: #A594F9;-->
<!--            border: none;-->
<!--            color: white;-->
<!--            padding: 10px 16px;-->
<!--            border-radius: 8px;-->
<!--            cursor: pointer;-->
<!--        }-->

<!--        button:hover {-->
<!--            background: #8f7ef5;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--&lt;!&ndash;<body>&ndash;&gt;-->
<!--&lt;!&ndash;<button onclick="logout()" style="&ndash;&gt;-->
<!--&lt;!&ndash;    position: fixed;&ndash;&gt;-->
<!--&lt;!&ndash;    top: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;    right: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;    background: #ff6b6b;&ndash;&gt;-->
<!--&lt;!&ndash;    color: white;&ndash;&gt;-->
<!--&lt;!&ndash;    border: none;&ndash;&gt;-->
<!--&lt;!&ndash;    padding: 10px 16px;&ndash;&gt;-->
<!--&lt;!&ndash;    border-radius: 8px;&ndash;&gt;-->
<!--&lt;!&ndash;    cursor: pointer;&ndash;&gt;-->
<!--&lt;!&ndash;">&ndash;&gt;-->
<!--&lt;!&ndash;    Logout&ndash;&gt;-->
<!--&lt;!&ndash;</button>&ndash;&gt;-->

<!--&lt;!&ndash;<h1>üìö University PDFs</h1>&ndash;&gt;-->

<!--&lt;!&ndash; üî¥ STUDENT VIEW &ndash;&gt;-->
<!--&lt;!&ndash;<div id="studentSection" class="card hidden">&ndash;&gt;-->
<!--&lt;!&ndash;    <h2>Available PDFs</h2>&ndash;&gt;-->

<!--&lt;!&ndash;    <ul id="pdfList">&ndash;&gt;-->
<!--&lt;!&ndash;        &lt;!&ndash; PDFs loaded from backend &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    </ul>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash;<div class="container">&ndash;&gt;-->

<!--&lt;!&ndash;    <h1>Download PDFs</h1>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; FILTERS &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="filters">&ndash;&gt;-->
<!--&lt;!&ndash;        <select id="university">&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="JNTU">JNTU</option>&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="OU">OU</option>&ndash;&gt;-->
<!--&lt;!&ndash;        </select>&ndash;&gt;-->

<!--&lt;!&ndash;        <select id="branch">&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="CSE">CSE</option>&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="ECE">ECE</option>&ndash;&gt;-->
<!--&lt;!&ndash;        </select>&ndash;&gt;-->

<!--&lt;!&ndash;        <select id="semester">&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="SEM 1">SEM 1</option>&ndash;&gt;-->
<!--&lt;!&ndash;            <option value="SEM 2">SEM 2</option>&ndash;&gt;-->
<!--&lt;!&ndash;        </select>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; BIG SEARCH BAR &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="search-box">&ndash;&gt;-->
<!--&lt;!&ndash;        <input id="subjectSearch" placeholder="Search subject or PDF name">&ndash;&gt;-->
<!--&lt;!&ndash;        <button onclick="searchFiles()">üîç</button>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; RESULTS &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div id="results"></div>&ndash;&gt;-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash; üî¥ TEACHER VIEW &ndash;&gt;-->
<!--&lt;!&ndash;<div id="teacherSection" class="card hidden">&ndash;&gt;-->
<!--&lt;!&ndash;    <h2>Upload PDF</h2>&ndash;&gt;-->

<!--&lt;!&ndash;    <form id="uploadForm" enctype="multipart/form-data">&ndash;&gt;-->
<!--&lt;!&ndash;        <input type="file" name="file" required>&ndash;&gt;-->
<!--&lt;!&ndash;        <br><br>&ndash;&gt;-->
<!--&lt;!&ndash;        <button type="submit">Upload PDF</button>&ndash;&gt;-->
<!--&lt;!&ndash;    </form>&ndash;&gt;-->

<!--&lt;!&ndash;    <h3 style="margin-top:25px;">Uploaded PDFs</h3>&ndash;&gt;-->
<!--&lt;!&ndash;    <ul id="teacherPdfList"></ul>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash;<div class="container">&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; UPLOAD SECTION &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="card">&ndash;&gt;-->
<!--&lt;!&ndash;        <h2>üì§ Upload Study Material</h2>&ndash;&gt;-->

<!--&lt;!&ndash;        <form id="uploadForm">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="form-grid">&ndash;&gt;-->
<!--&lt;!&ndash;                <select id="university">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="JNTU">JNTU</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="OU">OU</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <select id="branch">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="CSE">CSE</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="ECE">ECE</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <select id="semester">&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="SEM 1">SEM 1</option>&ndash;&gt;-->
<!--&lt;!&ndash;                    <option value="SEM 2">SEM 2</option>&ndash;&gt;-->
<!--&lt;!&ndash;                </select>&ndash;&gt;-->

<!--&lt;!&ndash;                <input id="subject" placeholder="Subject name" required>&ndash;&gt;-->

<!--&lt;!&ndash;                <input type="file" id="file" accept="application/pdf" required>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <button type="submit">Upload PDF</button>&ndash;&gt;-->
<!--&lt;!&ndash;        </form>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash; MANAGE &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="card">&ndash;&gt;-->
<!--&lt;!&ndash;        <h2>üìÅ Manage Uploaded PDFs</h2>&ndash;&gt;-->
<!--&lt;!&ndash;        <a class="link" href="/uploaded.html">View Uploaded PDFs</a>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash;<div class="feature-card" onclick="openUniversityPDFs()">&ndash;&gt;-->
<!--<body>-->

<!--<button onclick="logout()" style="-->
<!--    position: fixed;-->
<!--    top: 20px;-->
<!--    right: 20px;-->
<!--    background: #ff6b6b;-->
<!--    color: white;-->
<!--    border: none;-->
<!--    padding: 10px 16px;-->
<!--    border-radius: 8px;-->
<!--    cursor: pointer;-->
<!--">-->
<!--    Logout-->
<!--</button>-->

<!--<h1>üìö University PDFs</h1>-->

<!--&lt;!&ndash; ================= STUDENT SECTION ================= &ndash;&gt;-->
<!--<div id="studentSection" class="hidden">-->

<!--    <div class="card">-->
<!--        <h2>üîç Search & Download PDFs</h2>-->

<!--        <select id="university">-->
<!--            <option value="JNTU">JNTU</option>-->
<!--            <option value="OU">OU</option>-->
<!--        </select>-->

<!--        <select id="branch">-->
<!--            <option value="CSE">CSE</option>-->
<!--            <option value="ECE">ECE</option>-->
<!--        </select>-->

<!--        <select id="semester">-->
<!--            <option value="SEM 1">SEM 1</option>-->
<!--            <option value="SEM 2">SEM 2</option>-->
<!--        </select>-->

<!--        <input id="subjectSearch" placeholder="Subject">-->

<!--        <button onclick="searchFiles()">Search</button>-->

<!--        <div id="results"></div>-->
<!--    </div>-->

<!--</div>-->

<!--&lt;!&ndash; ================= TEACHER SECTION ================= &ndash;&gt;-->
<!--<div id="teacherSection" class="hidden">-->

<!--    <div class="card">-->
<!--        <h2>üì§ Upload Study Material</h2>-->

<!--        <form id="uploadForm">-->
<!--            <select id="university">-->
<!--                <option value="JNTU">JNTU</option>-->
<!--                <option value="OU">OU</option>-->
<!--            </select>-->

<!--            <select id="branch">-->
<!--                <option value="CSE">CSE</option>-->
<!--                <option value="ECE">ECE</option>-->
<!--            </select>-->

<!--            <select id="semester">-->
<!--                <option value="SEM 1">SEM 1</option>-->
<!--                <option value="SEM 2">SEM 2</option>-->
<!--            </select>-->

<!--            <input id="subject" placeholder="Subject name" required>-->
<!--            <input type="file" id="file" accept="application/pdf" required>-->

<!--            <button type="submit">Upload PDF</button>-->
<!--        </form>-->
<!--    </div>-->

<!--    <div class="card">-->
<!--        <h2>üìÅ Manage PDFs</h2>-->
<!--        <a href="/uploaded.html">View Uploaded PDFs</a>-->
<!--    </div>-->

<!--</div>-->

<!--<script>-->
<!--    /* ================= AUTH CHECK ================= */-->
<!--    fetch("/auth/status")-->
<!--        .then(res => res.text())-->
<!--        .then(role => {-->

<!--            if (role === "NOT_LOGGED_IN") {-->
<!--                alert("üîí Please login to access this page");-->
<!--                window.location.href = "/register.html";-->
<!--                return;-->
<!--            }-->

<!--            if (role === "ROLE_STUDENT") {-->
<!--                document.getElementById("studentSection").classList.remove("hidden");-->
<!--            }-->

<!--            if (role === "ROLE_TEACHER") {-->
<!--                document.getElementById("teacherSection").classList.remove("hidden");-->
<!--            }-->
<!--        });-->

<!--    /* ================= STUDENT SEARCH ================= */-->
<!--    async function searchFiles() {-->
<!--        const university = document.getElementById("university").value;-->
<!--        const branch = document.getElementById("branch").value;-->
<!--        const semester = document.getElementById("semester").value;-->
<!--        const subject = document.getElementById("subjectSearch").value;-->

<!--        const res = await fetch(-->
<!--            `/files/list?university=${university}&branch=${branch}&semester=${semester}&subject=${subject}`-->
<!--        );-->

<!--        const data = await res.json();-->
<!--        const results = document.getElementById("results");-->
<!--        results.innerHTML = "";-->

<!--        if (data.length === 0) {-->
<!--            results.innerHTML = "<p>No PDFs found</p>";-->
<!--            return;-->
<!--        }-->

<!--        data.forEach(f => {-->
<!--            results.innerHTML += `-->
<!--                <div class="card">-->
<!--                    <span>${f.filename}</span>-->
<!--                    <a href="/files/download/${f.id}">-->
<!--                        <button>Download</button>-->
<!--                    </a>-->
<!--                </div>-->
<!--            `;-->
<!--        });-->
<!--    }-->

<!--    /* ================= TEACHER UPLOAD ================= */-->
<!--    document.getElementById("uploadForm")?.addEventListener("submit", async e => {-->
<!--        e.preventDefault();-->

<!--        const formData = new FormData();-->
<!--        formData.append("file", document.getElementById("file").files[0]);-->
<!--        formData.append("university", document.getElementById("university").value);-->
<!--        formData.append("branch", document.getElementById("branch").value);-->
<!--        formData.append("semester", document.getElementById("semester").value);-->
<!--        formData.append("subject", document.getElementById("subject").value);-->

<!--        const res = await fetch("/files/upload", {-->
<!--            method: "POST",-->
<!--            body: formData-->
<!--        });-->

<!--        if (res.ok) {-->
<!--            alert("‚úÖ PDF Uploaded");-->
<!--            e.target.reset();-->
<!--        } else {-->
<!--            alert("‚ùå Upload failed");-->
<!--        }-->
<!--    });-->

<!--    /* ================= LOGOUT ================= */-->
<!--    function logout() {-->
<!--        fetch("/logout", { method: "POST" })-->
<!--            .then(() => {-->
<!--                alert("üëã Logged out");-->
<!--                window.location.href = "/register.html";-->
<!--            });-->
<!--    }-->
<!--</script>-->

<!--</body>-->

<!--&lt;!&ndash;<script>&ndash;&gt;-->
<!--&lt;!&ndash;    /* ================= AUTH CHECK ================= */&ndash;&gt;-->
<!--&lt;!&ndash;    fetch("/auth/status")&ndash;&gt;-->
<!--&lt;!&ndash;        .then(res => res.text())&ndash;&gt;-->
<!--&lt;!&ndash;        .then(role => {&ndash;&gt;-->

<!--&lt;!&ndash;            if (role === "NOT_LOGGED_IN") {&ndash;&gt;-->
<!--&lt;!&ndash;                alert("üîí Please login to access this page");&ndash;&gt;-->
<!--&lt;!&ndash;                window.location.href = "/register.html";&ndash;&gt;-->
<!--&lt;!&ndash;                return;&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->

<!--&lt;!&ndash;            if (role === "ROLE_STUDENT") {&ndash;&gt;-->
<!--&lt;!&ndash;                document.getElementById("studentSection").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;                loadStudentPDFs();&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->

<!--&lt;!&ndash;            if (role === "ROLE_TEACHER") {&ndash;&gt;-->
<!--&lt;!&ndash;                document.getElementById("teacherSection").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;                loadTeacherPDFs();&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    /* ================= STUDENT PDFs ================= */&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    function loadStudentPDFs() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        fetch("/files/list")&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            .then(res => res.json())&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            .then(files => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                const list = document.getElementById("pdfList");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                list.innerHTML = "";&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                files.forEach(f => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    const li = document.createElement("li");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    li.innerHTML = `&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        ${f.fileName}&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        <a href="/files/download/${f.id}">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            <button>Download</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        </a>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    `;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    list.appendChild(li);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;async function searchFiles() {&ndash;&gt;-->
<!--&lt;!&ndash;      const university = document.getElementById("university").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const branch = document.getElementById("branch").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const semester = document.getElementById("semester").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const subject = document.getElementById("subjectSearch").value;&ndash;&gt;-->

<!--&lt;!&ndash;      const res = await fetch(&ndash;&gt;-->
<!--&lt;!&ndash;        `/files/list?university=${university}&branch=${branch}&semester=${semester}&subject=${subject}`&ndash;&gt;-->
<!--&lt;!&ndash;      );&ndash;&gt;-->

<!--&lt;!&ndash;      const data = await res.json();&ndash;&gt;-->
<!--&lt;!&ndash;      const results = document.getElementById("results");&ndash;&gt;-->
<!--&lt;!&ndash;      results.innerHTML = "";&ndash;&gt;-->

<!--&lt;!&ndash;      if (data.length === 0) {&ndash;&gt;-->
<!--&lt;!&ndash;        results.innerHTML = "<p>No PDFs found</p>";&ndash;&gt;-->
<!--&lt;!&ndash;        return;&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->

<!--&lt;!&ndash;      data.forEach(f => {&ndash;&gt;-->
<!--&lt;!&ndash;        results.innerHTML += `&ndash;&gt;-->
<!--&lt;!&ndash;          <div class="result-card">&ndash;&gt;-->
<!--&lt;!&ndash;            <span>${f.filename}</span>&ndash;&gt;-->
<!--&lt;!&ndash;            <a href="/files/download/${f.id}">Download</a>&ndash;&gt;-->
<!--&lt;!&ndash;          </div>&ndash;&gt;-->
<!--&lt;!&ndash;        `;&ndash;&gt;-->
<!--&lt;!&ndash;      });&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    /* ================= TEACHER PDFs ================= */&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    function loadTeacherPDFs() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        fetch("/files/list")&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            .then(res => res.json())&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            .then(files => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                const list = document.getElementById("teacherPdfList");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                list.innerHTML = "";&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                files.forEach(f => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    const li = document.createElement("li");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    li.innerHTML = `&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        ${f.fileName}&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        <a href="/files/download/${f.id}">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            <button>Download</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        </a>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        <button onclick="deletePDF(${f.id})">Delete</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    `;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    list.appendChild(li);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;document.getElementById("uploadForm").addEventListener("submit", async e => {&ndash;&gt;-->
<!--&lt;!&ndash;      e.preventDefault();&ndash;&gt;-->

<!--&lt;!&ndash;      const formData = new FormData();&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("file", document.getElementById("file").files[0]);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("university", document.getElementById("university").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("branch", document.getElementById("branch").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("semester", document.getElementById("semester").value);&ndash;&gt;-->
<!--&lt;!&ndash;      formData.append("subject", document.getElementById("subject").value);&ndash;&gt;-->

<!--&lt;!&ndash;      const res = await fetch("/files/upload", {&ndash;&gt;-->
<!--&lt;!&ndash;        method: "POST",&ndash;&gt;-->
<!--&lt;!&ndash;        body: formData&ndash;&gt;-->
<!--&lt;!&ndash;      });&ndash;&gt;-->

<!--&lt;!&ndash;      if (res.ok) {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("‚úÖ PDF Uploaded Successfully");&ndash;&gt;-->
<!--&lt;!&ndash;        document.getElementById("uploadForm").reset();&ndash;&gt;-->
<!--&lt;!&ndash;      } else {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("‚ùå Upload failed");&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    /* ================= UPLOAD ================= */&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    document.getElementById("uploadForm")?.addEventListener("submit", e => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        e.preventDefault();&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;        const formData = new FormData(e.target);&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;        fetch("/files/upload", {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            method: "POST",&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            body: formData&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        })&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        .then(() => {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            alert("‚úÖ Uploaded");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            loadTeacherPDFs();&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    });&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;    /* ================= DELETE ================= */&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    function deletePDF(id) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;        fetch(`/files/delete/${id}`, { method: "DELETE" })&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;            .then(() => loadTeacherPDFs());&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;    }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    async function loadFiles() {&ndash;&gt;-->
<!--&lt;!&ndash;      const u = document.getElementById("university").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const b = document.getElementById("branch").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const s = document.getElementById("semester").value;&ndash;&gt;-->
<!--&lt;!&ndash;      const sub = document.getElementById("subject").value;&ndash;&gt;-->

<!--&lt;!&ndash;      const res = await fetch(&ndash;&gt;-->
<!--&lt;!&ndash;        `/files/list?university=${u}&branch=${b}&semester=${s}&subject=${sub}`&ndash;&gt;-->
<!--&lt;!&ndash;      );&ndash;&gt;-->

<!--&lt;!&ndash;      const data = await res.json();&ndash;&gt;-->
<!--&lt;!&ndash;      const table = document.getElementById("fileTable");&ndash;&gt;-->
<!--&lt;!&ndash;      table.innerHTML = "";&ndash;&gt;-->

<!--&lt;!&ndash;      if (data.length === 0) {&ndash;&gt;-->
<!--&lt;!&ndash;        table.innerHTML = "<tr><td colspan='6'>No PDFs found</td></tr>";&ndash;&gt;-->
<!--&lt;!&ndash;        return;&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->

<!--&lt;!&ndash;      data.forEach(f => {&ndash;&gt;-->
<!--&lt;!&ndash;        table.innerHTML += `&ndash;&gt;-->
<!--&lt;!&ndash;          <tr>&ndash;&gt;-->
<!--&lt;!&ndash;            <td>${f.filename}</td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td>${f.university}</td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td>${f.branch}</td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td>${f.semester}</td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td>${f.subject}</td>&ndash;&gt;-->
<!--&lt;!&ndash;            <td class="actions">&ndash;&gt;-->
<!--&lt;!&ndash;              <a href="/files/download/${f.id}">&ndash;&gt;-->
<!--&lt;!&ndash;                <button>Download</button>&ndash;&gt;-->
<!--&lt;!&ndash;              </a>&ndash;&gt;-->
<!--&lt;!&ndash;              <button onclick="deleteFile(${f.id})">Delete</button>&ndash;&gt;-->
<!--&lt;!&ndash;            </td>&ndash;&gt;-->
<!--&lt;!&ndash;          </tr>&ndash;&gt;-->
<!--&lt;!&ndash;        `;&ndash;&gt;-->
<!--&lt;!&ndash;      });&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    async function deleteFile(id) {&ndash;&gt;-->
<!--&lt;!&ndash;      if (!confirm("Delete this PDF?")) return;&ndash;&gt;-->

<!--&lt;!&ndash;      const res = await fetch(`/files/delete/${id}`, { method: "DELETE" });&ndash;&gt;-->
<!--&lt;!&ndash;      if (res.ok) {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("Deleted");&ndash;&gt;-->
<!--&lt;!&ndash;        loadFiles();&ndash;&gt;-->
<!--&lt;!&ndash;      } else {&ndash;&gt;-->
<!--&lt;!&ndash;        alert("Delete failed");&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;    function openUniversityPDFs() {&ndash;&gt;-->
<!--&lt;!&ndash;    fetch("/auth/status")&ndash;&gt;-->
<!--&lt;!&ndash;        .then(res => res.text())&ndash;&gt;-->
<!--&lt;!&ndash;        .then(role => {&ndash;&gt;-->
<!--&lt;!&ndash;            if (role === "NOT_LOGGED_IN") {&ndash;&gt;-->
<!--&lt;!&ndash;                alert("üîí Please login to access this feature");&ndash;&gt;-->
<!--&lt;!&ndash;                openLogin();&ndash;&gt;-->
<!--&lt;!&ndash;            } else {&ndash;&gt;-->
<!--&lt;!&ndash;                window.location.href = "/universitypdf.html";&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->
<!--&lt;!&ndash;}&ndash;&gt;-->
<!--&lt;!&ndash;    function logout() {&ndash;&gt;-->
<!--&lt;!&ndash;    fetch("/logout", { method: "POST" })&ndash;&gt;-->
<!--&lt;!&ndash;        .then(() => {&ndash;&gt;-->
<!--&lt;!&ndash;            alert("üëã Logged out");&ndash;&gt;-->
<!--&lt;!&ndash;            window.location.href = "/register.html";&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->
<!--&lt;!&ndash;}&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->

<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--</html>-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>University PDFs | AXONIX</title>

    <style>
        body{
          font-family: Arial;
          background:#f6f3ff;
          padding:40px;
        }
        h1{color:#62109F}
        .card{
          background:white;
          padding:20px;
          border-radius:14px;
          margin-bottom:20px;
          box-shadow:0 10px 24px rgba(165,148,249,.25);
        }
        .hidden{display:none}
        button{
          background:#A594F9;
          border:none;
          padding:10px 16px;
          color:white;
          border-radius:8px;
          cursor:pointer;
        }
        select,input{
          padding:8px;
          margin:6px;
        }
        .logout{
          position:fixed;
          top:20px;
          right:20px;
          background:#ff6b6b;
        }
        .file{
          display:flex;
          justify-content:space-between;
          margin:8px 0;
        }
         header{
          padding:18px 40px;
          display:flex;
          justify-content:space-between;
          align-items:center;
          background:rgba(255,255,255,0.85);
          backdrop-filter:blur(14px);
          position:sticky;
          top:0;
          z-index:1000;
          margin-bottom:10px;
          border-radius:10px;
        }
        .back-home{
          text-decoration:none;
          background:black;
          color:white;
          padding:10px 18px;
          border-radius:20px;
          font-size:14px;
          transition:.3s;
        }

        .back-home:hover{
          background:#8f7ef5;
          transform:translateY(-2px);
        }
    </style>
</head>

<body>


<header>
    <h1>UNIVERSITY PDFs</h1>
    <a href="/register.html" class="back-home">‚Üê Back to Home</a>
</header>


<!-- ================= STUDENT ================= -->
<div id="studentSection" class="hidden card">
    <h2>üì• Download PDFs</h2>

    <select id="sUniversity">
        <option>JNTU</option>
        <option>OU</option>
    </select>

    <select id="sBranch">
        <option>CSE</option>
        <option>ECE</option>
    </select>

    <select id="sSemester">
        <option>SEM 1</option>
        <option>SEM 2</option>
    </select>

    <input id="sSubject" placeholder="Subject">

    <button onclick="loadStudentFiles()">Search</button>
<button>Download</button>
    <div id="studentFiles"></div>
</div>

<!-- ================= TEACHER ================= -->
<div id="teacherSection" class="hidden">

    <div class="card">
        <h2>üì§ Upload PDF</h2>

        <form id="uploadForm">
            <select name="university">
                <option>JNTU</option>
                <option>OU</option>
            </select>

            <select name="branch">
                <option>CSE</option>
                <option>ECE</option>
            </select>

            <select name="semester">
                <option>SEM 1</option>
                <option>SEM 2</option>
            </select>

            <input name="subject" placeholder="Subject" required>
            <input type="file" name="file" accept="application/pdf" required>

            <button>Upload</button>
        </form>
    </div>

    <div class="card">
        <h2>üìÅ Uploaded PDFs</h2>
        <a href="uploaded.html">click here to check uploaded pdfs</a>
        <div id="teacherFiles"></div>
    </div>

</div>

<!--<script>-->
<!--    /* ================= AUTH CHECK ================= */-->
<!--    fetch("/auth/status")-->
<!--      .then(r=>r.json())-->
<!--      .then(data=>{-->
<!--        if(data.role==="ROLE_STUDENT"){-->
<!--          document.getElementById("studentSection").classList.remove("hidden");-->
<!--          loadStudentFiles();-->
<!--        }-->
<!--        if(data.role==="ROLE_TEACHER"){-->
<!--          document.getElementById("teacherSection").classList.remove("hidden");-->
<!--          loadTeacherFiles();-->
<!--        }-->
<!--      });-->

<!--    /* ================= STUDENT ================= */-->
<!--    function loadStudentFiles(){-->
<!--      fetch("/files/list")-->
<!--        .then(r=>r.json())-->
<!--        .then(files=>{-->
<!--          const box=document.getElementById("studentFiles");-->
<!--          box.innerHTML="";-->
<!--          files.forEach(f=>{-->
<!--            box.innerHTML+=`-->
<!--              <div class="file">-->
<!--                <span>${f.filename}</span>-->
<!--                <a href="/files/download/${f.id}">Download</a>-->
<!--              </div>`;-->
<!--          });-->
<!--        });-->
<!--    }-->

<!--    /* ================= TEACHER ================= */-->
<!--    document.getElementById("uploadForm").onsubmit=e=>{-->
<!--      e.preventDefault();-->
<!--      const fd=new FormData(e.target);-->
<!--      fetch("/files/upload",{method:"POST",body:fd})-->
<!--        .then(()=>loadTeacherFiles());-->
<!--    };-->

<!--    function loadTeacherFiles(){-->
<!--      fetch("/files/list")-->
<!--        .then(r=>r.json())-->
<!--        .then(files=>{-->
<!--          const box=document.getElementById("teacherFiles");-->
<!--          box.innerHTML="";-->
<!--          files.forEach(f=>{-->
<!--            box.innerHTML+=`-->
<!--              <div class="file">-->
<!--                <span>${f.filename}</span>-->
<!--                <button onclick="deleteFile(${f.id})">Delete</button>-->
<!--              </div>`;-->
<!--          });-->
<!--        });-->
<!--    }-->

<!--    function deleteFile(id){-->
<!--      fetch("/files/delete/"+id,{method:"DELETE"})-->
<!--        .then(()=>loadTeacherFiles());-->
<!--    }-->

<!--    function logout(){-->
<!--      fetch("/logout",{method:"POST"})-->
<!--        .then(()=>location.href="/register.html");-->
<!--    }-->
<!--</script>-->
<script>
    /* ================= AUTH CHECK ================= */
    fetch("/auth/status")
      .then(res => res.json())
      .then(data => {

        if (!data.role || data.role === "NOT_LOGGED_IN") {
          alert("üîí Please login");
          location.href = "/register.html";
          return;
        }

        if (data.role === "ROLE_STUDENT") {
          document.getElementById("studentSection").classList.remove("hidden");
        }

        if (data.role === "ROLE_TEACHER") {
          document.getElementById("teacherSection").classList.remove("hidden");
          loadTeacherFiles();
        }
      });

    /* ================= STUDENT SEARCH ================= */
    function loadStudentFiles() {

      const university = document.getElementById("sUniversity").value;
      const branch = document.getElementById("sBranch").value;
      const semester = document.getElementById("sSemester").value;
      const subject = document.getElementById("sSubject").value;

      fetch(`/files/list?university=${university}&branch=${branch}&semester=${semester}&subject=${subject}`)
        .then(res => res.json())
        .then(files => {

          const box = document.getElementById("studentFiles");
          box.innerHTML = "";

          if (files.length === 0) {
            box.innerHTML = "<p>No PDFs found</p>";
            return;
          }

          files.forEach(f => {
            box.innerHTML += `
              <div class="file">
                <span>${f.filename}</span>
                <a href="/files/download/${f.id}">
                  <button>Download</button>
                </a>
              </div>`;
          });
        });
    }

    /* ================= TEACHER UPLOAD ================= */
    document.getElementById("uploadForm").addEventListener("submit", e => {
      e.preventDefault();

      const fd = new FormData(e.target);

      fetch("/files/upload", {
        method: "POST",
        body: fd
      })
      .then(res => {
        if (!res.ok) throw new Error();
        alert("‚úÖ Uploaded successfully");
        e.target.reset();
        loadTeacherFiles();
      })
      .catch(() => alert("‚ùå Upload failed"));
    });

    /* ================= TEACHER FILES ================= */
    function loadTeacherFiles() {

      // Teacher sees ALL files (can later filter if needed)
      fetch(`/files/list?university=JNTU&branch=CSE&semester=SEM 1&subject=`)
        .then(res => res.json())
        .then(files => {

          const box = document.getElementById("teacherFiles");
          box.innerHTML = "";

          if (files.length === 0) {
            box.innerHTML = "<p></p>";
            return;
          }

          files.forEach(f => {
            box.innerHTML += `
              <div class="file">
                <span>${f.filename}</span>
                <div>
                  <a href="/files/download/${f.id}">
                    <button>Download</button>
                  </a>
                  <button onclick="deleteFile(${f.id})">Delete</button>
                </div>
              </div>`;
          });
        });
    }

    /* ================= DELETE ================= */
    function deleteFile(id) {
      if (!confirm("Delete this PDF?")) return;

      fetch(`/files/delete/${id}`, { method: "DELETE" })
        .then(() => {
          alert("üóëÔ∏è Deleted");
          loadTeacherFiles();
        });
    }

    /* ================= LOGOUT ================= */
    function logout() {

          alert("üëã Logged out");
          location.href = "/register.html";

    }
</script>


</body>
</html>
